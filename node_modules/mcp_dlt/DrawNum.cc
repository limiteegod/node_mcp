#include "DrawNum.h"


DrawNum::DrawNum(char *pNum, int len)
{
       char *preChar = (char *)malloc(sizeof(char)*len);
       char *afterChar = (char *)malloc(sizeof(char)*len);
       bool preFlag = true;
       int jcount = 0;
       int acount = 0;
       for(int i =0 ; i < len ; i++){
           char temp = pNum[i];
           if (preFlag)
           {
                if(temp == '|'){
                   preChar[i] = '\0';
                   preFlag = false;
                   continue;
                }
                preChar[jcount] = temp;
                jcount ++;
           }else{
                if(temp == ';' ){
                    afterChar[acount + 1] = '\0';
                    break;
                }
                afterChar[acount] = temp;
                acount ++;
           }
       }
/*     printf("prechar%s\n" , preChar);
       printf("afterchar%s\n" , afterChar);
       printf("jcount%d\n" , jcount);
       printf("acount%d\n" , acount);*/

       IntArray* ia = new IntArray(35, preChar, jcount, ',');

       this->preArray = ia;
       IntArray* ia2 = new IntArray(12, afterChar, acount, ',');

       this->afterArray = ia2;
       free(preChar);
       free(afterChar);
}

IntArray* DrawNum::getPreArray(){
    return this->preArray;
}

IntArray* DrawNum::getAfterArray(){
    return this->afterArray;
}

DrawNum::~DrawNum()
{
    delete this->preArray;
    delete this->afterArray;
}
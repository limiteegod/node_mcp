var GameGrade = function(){
    var self = this;
    self.info = [
        {gameCode:'T06', grades:[{id:1, code:'lv1', bonus:19700, des:'组24'},
        {id:2, code:'lv2', bonus:39500, des:'组选12'},
        {id:3, code:'lv3', bonus:79100, des:'组选6'}]}
    ];
    self.infoArray = {};
    self.init();
};

GameGrade.prototype.init = function()
{
    var self = this;
    for(var key in self.info)
    {
        var set = self.info[key];
        self.infoArray[set.gameCode] = {};
        self.infoArray[set.gameCode].data = set;
        self.infoArray[set.gameCode].chilren = set.grades;

        var grades = set.grades;
        for(var gdkey in grades)
        {
            var grade = grades[gdkey];
            self.infoArray[set.gameCode][grade.code] = {};
            self.infoArray[set.gameCode][grade.code].data = grade;
            self.infoArray[set.gameCode][grade.code].parent = set;
        }
    }
};

/**
 * 获得节点数据
 * @param gameCode
 * @param gradeCode
 * @returns {*}
 */
GameGrade.prototype.getInfoById = function(gameCode, gradeCode)
{
    var self = this;
    return self.getNodeById(gameCode, gradeCode).data;
}

/**
 * 获得节点
 * @param gameCode
 * @param gradeCode
 * @returns {*}
 */
GameGrade.prototype.getNodeById = function(gameCode, gradeCode)
{
    var self = this;
    if(gameCode == undefined)
    {
        return self.info;
    }
    var obj = self.infoArray[gameCode];
    if(gradeCode != undefined)
    {
        obj = obj[gradeCode];
    }
    return obj;
}

module.exports = new GameGrade();


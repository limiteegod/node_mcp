var GameGrade = function(){
    var self = this;
    self.info = [
        {gameCode:'T06', grades:[
            {id:1, code:'lv1', bonus:19700, des:'组选24'},
            {id:2, code:'lv2', bonus:39500, des:'组选12'},
            {id:3, code:'lv3', bonus:79100, des:'组选6'},
            {id:4, code:'lv4', bonus:118700, des:'组选4'},
            {id:5, code:'lv5', bonus:900, des:'任选1'},
            {id:6, code:'lv6', bonus:7400, des:'任选2'},
            {id:7, code:'lv7', bonus:59300, des:'任选3'},
            {id:8, code:'lv8', bonus:475100, des:'任选4'}
        ]},
        {gameCode:'T01', grades:[
            {id:1, code:'lv1', bonus:400000000, des:'一等奖'},
            {id:2, code:'lv2', bonus:200000000, des:'二等奖'},
            {id:3, code:'lv3', bonus:100000000, des:'三等奖'},
            {id:4, code:'lv4', bonus:20000, des:'四等奖'},
            {id:5, code:'lv5', bonus:1000, des:'五等奖'},
            {id:6, code:'lv6', bonus:500, des:'六等奖'},
            {id:7, code:'lv6', bonus:240000000, des:'一等奖追加'},
            {id:8, code:'lv6', bonus:120000000, des:'二等奖追加'},
            {id:9, code:'lv6', bonus:60000000, des:'三等奖追加'},
            {id:10, code:'lv6', bonus:10000, des:'四等奖追加'},
            {id:11, code:'lv6', bonus:500, des:'五等奖追加'}
        ]}
    ];
    self.infoArray = {};
    self.init();
};

GameGrade.prototype.init = function()
{
    var self = this;
    for(var key in self.info)
    {
        var set = self.info[key];
        self.infoArray[set.gameCode] = {};
        self.infoArray[set.gameCode].data = set;
        self.infoArray[set.gameCode].chilren = set.grades;

        var grades = set.grades;
        for(var gdkey in grades)
        {
            var grade = grades[gdkey];
            self.infoArray[set.gameCode][grade.code] = {};
            self.infoArray[set.gameCode][grade.code].data = grade;
            self.infoArray[set.gameCode][grade.code].parent = set;
        }
    }
};

/**
 * 获得节点数据
 * @param gameCode
 * @param gradeCode
 * @returns {*}
 */
GameGrade.prototype.getInfoById = function(gameCode, gradeCode)
{
    var self = this;
    return self.getNodeById(gameCode, gradeCode).data;
}

/**
 * 获得节点
 * @param gameCode
 * @param gradeCode
 * @returns {*}
 */
GameGrade.prototype.getNodeById = function(gameCode, gradeCode)
{
    var self = this;
    if(gameCode == undefined)
    {
        return self.info;
    }
    var obj = self.infoArray[gameCode];
    if(gradeCode != undefined)
    {
        obj = obj[gradeCode];
    }
    return obj;
}

module.exports = new GameGrade();

